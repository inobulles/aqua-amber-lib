// load TTF files

import lib/devices/graphics/font.a

class Ttf {
	func create_font(var path) { // static
		var data; var bytes;
		if (Fs.read(path, &data, &bytes)) {
			print "WARNING Failed to load TTF file (probably wrong path, " ++ path ++ ")\n";
			return 0;
		}
		
		Device->var device = new(Device).construct("font");
		var result = device.send(0x63, data, bytes);
		
		var font = new(Font);
		font.id = ?result;
		
		font.data  = device.arg1;
		font.bytes = device.arg2;
		
		return font;
	}
}
